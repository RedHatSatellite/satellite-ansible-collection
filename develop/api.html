<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>foreman_helper module &mdash; Red Hat Satellite Ansible Collection  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/ansible-basic-sphinx-ext.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Testing Foreman Ansible Modules" href="testing.html" />
    <link rel="prev" title="How to write modules" href="developing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Red Hat Satellite Ansible Collection
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Red Hat Satellite Ansible Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins/index.html">Redhat.Satellite</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters.html">Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="roles/index.html">Role Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="cvmanager.html">Migrating from <code class="docutils literal notranslate"><span class="pre">cvmanager</span></code> to Red Hat Satellite Ansible Collection</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="developing.html">How to write modules</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">foreman_helper</span></code> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing Foreman Ansible Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing the collection</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Red Hat Satellite Ansible Collection</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li><code class="docutils literal notranslate"><span class="pre">foreman_helper</span></code> module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-foreman_helper">
<span id="foreman-helper-module"></span><span id="api"></span><h1><code class="docutils literal notranslate"><span class="pre">foreman_helper</span></code> module<a class="headerlink" href="#module-foreman_helper" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ForemanAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Baseclass for all foreman related Ansible modules.
It handles connection parameters and adds the concept of the <cite>foreman_spec</cite>.
This adds automatic entities resolution based on provided attributes/ sub entities options.</p>
<p>It adds the following options to foreman_spec ‘entity’ and ‘entity_list’ types:</p>
<ul class="simple">
<li><p>search_by (str): Field used to search the sub entity. Defaults to ‘name’ unless <cite>parent</cite> was set, in which case it defaults to <cite>title</cite>.</p></li>
<li><p>search_operator (str): Operator used to search the sub entity. Defaults to ‘=’. For fuzzy search use ‘~’.</p></li>
<li><p>resource_type (str): Resource type used to build API resource PATH. Defaults to pluralized entity key.</p></li>
<li><p>resolve (boolean): Defaults to ‘True’. If set to false, the sub entity will not be resolved automatically</p></li>
<li><p>ensure (boolean): Defaults to ‘True’. If set to false, it will be removed before sending data to the foreman server.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._copy_entity">
<span class="sig-name descname"><span class="pre">_copy_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._copy_entity" title="Permalink to this definition"></a></dt>
<dd><p>Copy a given entity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to manipulate</p></li>
<li><p><strong>desired_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Desired properties of the entity</p></li>
<li><p><strong>current_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Current properties of the entity</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new current state of the entity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._create_entity">
<span class="sig-name descname"><span class="pre">_create_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreman_spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._create_entity" title="Permalink to this definition"></a></dt>
<dd><p>Create entity with given properties</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to manipulate</p></li>
<li><p><strong>desired_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Desired properties of the entity</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
<li><p><strong>foreman_spec</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Description of the entity structure</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new current state of the entity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._delete_entity">
<span class="sig-name descname"><span class="pre">_delete_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._delete_entity" title="Permalink to this definition"></a></dt>
<dd><p>Delete a given entity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to manipulate</p></li>
<li><p><strong>current_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Current properties of the entity</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new current state of the entity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a>,<a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)">None</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_content_uploads_update_api">
<span class="sig-name descname"><span class="pre">_patch_content_uploads_update_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_content_uploads_update_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for the broken content_uploads update apidoc in Katello.
See <a class="reference external" href="https://projects.theforeman.org/issues/27590">https://projects.theforeman.org/issues/27590</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_cv_filter_rule_api">
<span class="sig-name descname"><span class="pre">_patch_cv_filter_rule_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_cv_filter_rule_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for missing params of CV Filter Rule update controller in Katello.
See <a class="reference external" href="https://projects.theforeman.org/issues/30908">https://projects.theforeman.org/issues/30908</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_location_api">
<span class="sig-name descname"><span class="pre">_patch_location_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_location_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for the broken taxonomies apidoc in foreman.
see <a class="reference external" href="https://projects.theforeman.org/issues/10359">https://projects.theforeman.org/issues/10359</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_organization_update_api">
<span class="sig-name descname"><span class="pre">_patch_organization_update_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_organization_update_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for the broken organization update apidoc in Katello.
See <a class="reference external" href="https://projects.theforeman.org/issues/27538">https://projects.theforeman.org/issues/27538</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_subnet_externalipam_group_api">
<span class="sig-name descname"><span class="pre">_patch_subnet_externalipam_group_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_subnet_externalipam_group_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for the broken subnet apidoc for External IPAM.
See <a class="reference external" href="https://projects.theforeman.org/issues/30890">https://projects.theforeman.org/issues/30890</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_subnet_rex_api">
<span class="sig-name descname"><span class="pre">_patch_subnet_rex_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_subnet_rex_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for the broken subnet apidoc in foreman remote execution.
See <a class="reference external" href="https://projects.theforeman.org/issues/19086">https://projects.theforeman.org/issues/19086</a> and <a class="reference external" href="https://projects.theforeman.org/issues/30651">https://projects.theforeman.org/issues/30651</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_subscription_index_api">
<span class="sig-name descname"><span class="pre">_patch_subscription_index_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_subscription_index_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for the broken subscriptions apidoc in Katello.
See <a class="reference external" href="https://projects.theforeman.org/issues/27575">https://projects.theforeman.org/issues/27575</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_sync_plan_api">
<span class="sig-name descname"><span class="pre">_patch_sync_plan_api</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_sync_plan_api" title="Permalink to this definition"></a></dt>
<dd><p>This is a workaround for the broken sync_plan apidoc in Katello.
See <a class="reference external" href="https://projects.theforeman.org/issues/27532">https://projects.theforeman.org/issues/27532</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._patch_templates_resource_name">
<span class="sig-name descname"><span class="pre">_patch_templates_resource_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._patch_templates_resource_name" title="Permalink to this definition"></a></dt>
<dd><p>Need to support both singular and plural form.
Not checking for the templates plugin here, as the check relies on the new name.
The resource was made plural per <a class="reference external" href="https://projects.theforeman.org/issues/28750">https://projects.theforeman.org/issues/28750</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._revert_entity">
<span class="sig-name descname"><span class="pre">_revert_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._revert_entity" title="Permalink to this definition"></a></dt>
<dd><p>Revert a given entity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to manipulate</p></li>
<li><p><strong>current_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Current properties of the entity</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new current state of the entity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._update_entity">
<span class="sig-name descname"><span class="pre">_update_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreman_spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._update_entity" title="Permalink to this definition"></a></dt>
<dd><p>Update a given entity with given properties if any diverge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to manipulate</p></li>
<li><p><strong>desired_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Desired properties of the entity</p></li>
<li><p><strong>current_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Current properties of the entity</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
<li><p><strong>foreman_spec</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Description of the entity structure</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new current state of the entity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule._validate_supported_payload">
<span class="sig-name descname"><span class="pre">_validate_supported_payload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule._validate_supported_payload" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the payload only contains supported keys.
Emits a warning for keys that are not part of the apidoc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to check</p></li>
<li><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Name of the action to check payload against</p></li>
<li><p><strong>payload</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – API paylod to be checked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The payload as it can be submitted to the API</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.api_connection">
<span class="sig-name descname"><span class="pre">api_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.api_connection" title="Permalink to this definition"></a></dt>
<dd><p>Execute a given code block after connecting to the API.</p>
<p>When the block has finished, call <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule.exit_json" title="foreman_helper.ForemanAnsibleModule.exit_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">exit_json()</span></code></a> to report that the module has finished to Ansible.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.apply_apidoc_patches">
<span class="sig-name descname"><span class="pre">apply_apidoc_patches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.apply_apidoc_patches" title="Permalink to this definition"></a></dt>
<dd><p>Apply patches to the local apidoc representation.
When adding another patch, consider that the endpoint in question may depend on a plugin to be available.
If possible, make the patch only execute on specific server/plugin versions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.connect" title="Permalink to this definition"></a></dt>
<dd><p>Connect to the Foreman API.</p>
<p>This will create a new <code class="docutils literal notranslate"><span class="pre">apypie.Api</span></code> instance using the provided server information,
check that the API is actually reachable (by calling <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule.status" title="foreman_helper.ForemanAnsibleModule.status"><code class="xref py py-func docutils literal notranslate"><span class="pre">status()</span></code></a>),
apply any required patches to the apidoc and ensure the server has all the plugins installed
that are required by the module.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.ensure_entity">
<span class="sig-name descname"><span class="pre">ensure_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreman_spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.ensure_entity" title="Permalink to this definition"></a></dt>
<dd><p>Ensure that a given entity has a certain state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to manipulate</p></li>
<li><p><strong>desired_entity</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – Desired properties of the entity</p></li>
<li><p><strong>current_entity</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>,</em><a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)"><em>None</em></a><em>]</em>) – Current properties of the entity or None if nonexistent</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
<li><p><strong>state</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em>, </em><em>optional</em>) – Desired state of the entity (optionally taken from the module)</p></li>
<li><p><strong>foreman_spec</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Description of the entity structure (optionally taken from module)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new current state of the entity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a>,<a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)">None</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.exit_json">
<span class="sig-name descname"><span class="pre">exit_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">changed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.exit_json" title="Permalink to this definition"></a></dt>
<dd><p>return from the module, without error</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.list_resource">
<span class="sig-name descname"><span class="pre">list_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.list_resource" title="Permalink to this definition"></a></dt>
<dd><p>Execute the <code class="docutils literal notranslate"><span class="pre">index</span></code> action on an resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to show</p></li>
<li><p><strong>search</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em>, </em><em>optional</em>) – Search string as accepted by the API to limit the results</p></li>
<li><p><strong>params</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>,</em><a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)"><em>None</em></a><em>]</em><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.show_resource">
<span class="sig-name descname"><span class="pre">show_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.show_resource" title="Permalink to this definition"></a></dt>
<dd><p>Execute the <code class="docutils literal notranslate"><span class="pre">show</span></code> action on an entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Plural name of the api resource to show</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The ID of the entity to show</p></li>
<li><p><strong>params</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>,</em><a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)"><em>None</em></a><em>]</em><em>, </em><em>optional</em>) – Lookup parameters (i.e. parent_id for nested entities)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanAnsibleModule.status">
<span class="sig-name descname"><span class="pre">status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanAnsibleModule.status" title="Permalink to this definition"></a></dt>
<dd><p>Call the <code class="docutils literal notranslate"><span class="pre">status</span></code> API endpoint to ensure the server is reachable.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The full API response</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ForemanEntityAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ForemanEntityAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanEntityAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Base class for Foreman entities. To use it, subclass it with the following convention:
To manage my_entity entity, create the following sub class:</p>
<div class="highlight-YAML+Jinja notranslate"><div class="highlight"><pre><span></span><span class="nt">class ForemanMyEntityModule(ForemanEntityAnsibleModule)</span><span class="p">:</span>
    <span class="l l-Scalar l-Scalar-Plain">pass</span>
</pre></div>
</div>
<p>and use that class to instantiate module:</p>
<div class="highlight-YAML+Jinja notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">module = ForemanMyEntityModule(</span>
    <span class="l l-Scalar l-Scalar-Plain">argument_spec=dict(</span>
        <span class="l l-Scalar l-Scalar-Plain">[...]</span>
    <span class="l l-Scalar l-Scalar-Plain">),</span>
    <span class="l l-Scalar l-Scalar-Plain">foreman_spec=dict(</span>
        <span class="l l-Scalar l-Scalar-Plain">[...]</span>
    <span class="l l-Scalar l-Scalar-Plain">),</span>
<span class="l l-Scalar l-Scalar-Plain">)</span>
</pre></div>
</div>
<p>This adds a <cite>state</cite> parameter to the module and provides the <cite>run</cite> method for the most
common usecases.</p>
<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanEntityAnsibleModule.remove_sensitive_fields">
<span class="sig-name descname"><span class="pre">remove_sensitive_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanEntityAnsibleModule.remove_sensitive_fields" title="Permalink to this definition"></a></dt>
<dd><p>Set fields with ‘no_log’ option to None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanEntityAnsibleModule.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanEntityAnsibleModule.run" title="Permalink to this definition"></a></dt>
<dd><p>lookup entities, ensure entity, remove sensitive data, manage parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ForemanInfoAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ForemanInfoAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanInfoAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Base class for Foreman info modules that fetch information about entities</p>
<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanInfoAnsibleModule.exit_json">
<span class="sig-name descname"><span class="pre">exit_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanInfoAnsibleModule.exit_json" title="Permalink to this definition"></a></dt>
<dd><p>return from the module, without error</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanInfoAnsibleModule.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanInfoAnsibleModule.run" title="Permalink to this definition"></a></dt>
<dd><p>lookup entities</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ForemanScapDataStreamModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ForemanScapDataStreamModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanScapDataStreamModule" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="foreman_helper.ForemanScapDataStreamModule.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanScapDataStreamModule.run" title="Permalink to this definition"></a></dt>
<dd><p>lookup entities, ensure entity, remove sensitive data, manage parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ForemanStatelessEntityAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ForemanStatelessEntityAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanStatelessEntityAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Base class for Foreman entities without a state. To use it, subclass it with the following convention:
To manage my_entity entity, create the following sub class:</p>
<div class="highlight-YAML+Jinja notranslate"><div class="highlight"><pre><span></span><span class="nt">class ForemanMyEntityModule(ForemanStatelessEntityAnsibleModule)</span><span class="p">:</span>
    <span class="l l-Scalar l-Scalar-Plain">pass</span>
</pre></div>
</div>
<p>and use that class to instantiate module:</p>
<div class="highlight-YAML+Jinja notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">module = ForemanMyEntityModule(</span>
    <span class="l l-Scalar l-Scalar-Plain">argument_spec=dict(</span>
        <span class="l l-Scalar l-Scalar-Plain">[...]</span>
    <span class="l l-Scalar l-Scalar-Plain">),</span>
    <span class="l l-Scalar l-Scalar-Plain">foreman_spec=dict(</span>
        <span class="l l-Scalar l-Scalar-Plain">[...]</span>
    <span class="l l-Scalar l-Scalar-Plain">),</span>
<span class="l l-Scalar l-Scalar-Plain">)</span>
</pre></div>
</div>
<p>It adds the following attributes:</p>
<ul class="simple">
<li><p>entity_key (str): field used to search current entity. Defaults to value provided by <cite>ENTITY_KEYS</cite> or ‘name’ if no value found.</p></li>
<li><p>entity_name (str): name of the current entity.
By default deduce the entity name from the class name (eg: ‘ForemanProvisioningTemplateModule’ class will produce ‘provisioning_template’).</p></li>
<li><p>entity_opts (dict): Dict of options for base entity. Same options can be provided for subentities described in foreman_spec.</p></li>
</ul>
<p>The main entity is referenced with the key <cite>entity</cite> in the <cite>foreman_spec</cite>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="foreman_helper.ForemanStatelessEntityAnsibleModule.entity_name_from_class">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity_name_from_class</span></span><a class="headerlink" href="#foreman_helper.ForemanStatelessEntityAnsibleModule.entity_name_from_class" title="Permalink to this definition"></a></dt>
<dd><p>The entity name derived from the class name.</p>
<p>The class name must follow the following name convention:</p>
<ul class="simple">
<li><p>It starts with <code class="docutils literal notranslate"><span class="pre">Foreman</span></code> or <code class="docutils literal notranslate"><span class="pre">Katello</span></code>.</p></li>
<li><p>It ends with <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></li>
</ul>
<p>This will convert the class name <code class="docutils literal notranslate"><span class="pre">ForemanMyEntityModule</span></code> to the entity name <code class="docutils literal notranslate"><span class="pre">my_entity</span></code>.</p>
<p>Examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ForemanArchitectureModule</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">architecture</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ForemanProvisioningTemplateModule</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">provisioning_template</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KatelloProductMudule</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">product</span></code></p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ForemanTaxonomicAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ForemanTaxonomicAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanTaxonomicAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Combine <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule" title="foreman_helper.ForemanAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanAnsibleModule</span></code></a> with the <a class="reference internal" href="#foreman_helper.TaxonomyMixin" title="foreman_helper.TaxonomyMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonomyMixin</span></code></a> Mixin.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ForemanTaxonomicEntityAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ForemanTaxonomicEntityAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ForemanTaxonomicEntityAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Combine <a class="reference internal" href="#foreman_helper.ForemanEntityAnsibleModule" title="foreman_helper.ForemanEntityAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanEntityAnsibleModule</span></code></a> with the <a class="reference internal" href="#foreman_helper.TaxonomyMixin" title="foreman_helper.TaxonomyMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaxonomyMixin</span></code></a> Mixin.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.HostMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">HostMixin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.HostMixin" title="Permalink to this definition"></a></dt>
<dd><p>Host Mixin to extend a <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule" title="foreman_helper.ForemanAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanAnsibleModule</span></code></a> (or any subclass) to work with host-related entities (Hosts, Hostgroups).</p>
<p>This adds many optional parameters that are specific to Hosts and Hostgroups to the module.
It also includes <a class="reference internal" href="#foreman_helper.ParametersMixin" title="foreman_helper.ParametersMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParametersMixin</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.KatelloAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">KatelloAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.KatelloAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Combine <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule" title="foreman_helper.ForemanAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanAnsibleModule</span></code></a> with the <a class="reference internal" href="#foreman_helper.KatelloMixin" title="foreman_helper.KatelloMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">KatelloMixin</span></code></a> Mixin.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.KatelloEntityAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">KatelloEntityAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.KatelloEntityAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Combine <a class="reference internal" href="#foreman_helper.ForemanEntityAnsibleModule" title="foreman_helper.ForemanEntityAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanEntityAnsibleModule</span></code></a> with the <a class="reference internal" href="#foreman_helper.KatelloScopedMixin" title="foreman_helper.KatelloScopedMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">KatelloScopedMixin</span></code></a> Mixin.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.KatelloInfoAnsibleModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">KatelloInfoAnsibleModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.KatelloInfoAnsibleModule" title="Permalink to this definition"></a></dt>
<dd><p>Combine <a class="reference internal" href="#foreman_helper.ForemanInfoAnsibleModule" title="foreman_helper.ForemanInfoAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanInfoAnsibleModule</span></code></a> with the <a class="reference internal" href="#foreman_helper.KatelloScopedMixin" title="foreman_helper.KatelloScopedMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">KatelloScopedMixin</span></code></a> Mixin.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.KatelloMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">KatelloMixin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.KatelloMixin" title="Permalink to this definition"></a></dt>
<dd><p>Katello Mixin to extend a <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule" title="foreman_helper.ForemanAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanAnsibleModule</span></code></a> (or any subclass) to work with Katello entities.</p>
<p>This includes:</p>
<ul class="simple">
<li><p>add a required <code class="docutils literal notranslate"><span class="pre">organization</span></code> parameter to the module</p></li>
<li><p>add Katello to the list of required plugins</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.KatelloScopedMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">KatelloScopedMixin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.KatelloScopedMixin" title="Permalink to this definition"></a></dt>
<dd><p>Enhances <a class="reference internal" href="#foreman_helper.KatelloMixin" title="foreman_helper.KatelloMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">KatelloMixin</span></code></a> with scoping by <code class="docutils literal notranslate"><span class="pre">organization</span></code> as required by Katello.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.NestedParametersMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">NestedParametersMixin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.NestedParametersMixin" title="Permalink to this definition"></a></dt>
<dd><p>Nested Parameters Mixin to extend a <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule" title="foreman_helper.ForemanAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanAnsibleModule</span></code></a> (or any subclass) to work with entities that support parameters,
but require them to be managed in separate API requests.</p>
<p>This adds optional <code class="docutils literal notranslate"><span class="pre">parameters</span></code> parameter to the module. It also enhances the <code class="docutils literal notranslate"><span class="pre">run()</span></code> method to properly handle the
provided parameters.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ParametersMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ParametersMixin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.ParametersMixin" title="Permalink to this definition"></a></dt>
<dd><p>Parameters Mixin to extend a <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule" title="foreman_helper.ForemanAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanAnsibleModule</span></code></a> (or any subclass) to work with entities that support parameters.</p>
<p>This allows to submit parameters to Foreman in the same request as modifying the main entity, thus making the parameters
available to any action that might be triggered when the entity is saved.</p>
<p>By default, parametes are submited to the API using the <code class="docutils literal notranslate"><span class="pre">&lt;entity_name&gt;_parameters_attributes</span></code> key.
If you need to override this, set the <code class="docutils literal notranslate"><span class="pre">PARAMETERS_FLAT_NAME</span></code> attribute to the key that shall be used instead.</p>
<p>This adds optional <code class="docutils literal notranslate"><span class="pre">parameters</span></code> parameter to the module. It also enhances the <code class="docutils literal notranslate"><span class="pre">run()</span></code> method to properly handle the
provided parameters.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.ParametersMixinBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">ParametersMixinBase</span></span><a class="headerlink" href="#foreman_helper.ParametersMixinBase" title="Permalink to this definition"></a></dt>
<dd><p>Base Class for the Parameters Mixins.</p>
<p>Provides a function to verify no duplicate parameters are set.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="foreman_helper.TaxonomyMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">TaxonomyMixin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.TaxonomyMixin" title="Permalink to this definition"></a></dt>
<dd><p>Taxonomy Mixin to extend a <a class="reference internal" href="#foreman_helper.ForemanAnsibleModule" title="foreman_helper.ForemanAnsibleModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForemanAnsibleModule</span></code></a> (or any subclass) to work with taxonomic entities.</p>
<p>This adds optional <code class="docutils literal notranslate"><span class="pre">organizations</span></code> and <code class="docutils literal notranslate"><span class="pre">locations</span></code> parameters to the module.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper._check_patch_needed">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">_check_patch_needed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">introduced_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper._check_patch_needed" title="Permalink to this definition"></a></dt>
<dd><p>Decorator to check whether a specific apidoc patch is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>introduced_version</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em>, </em><em>optional</em>) – The version of Foreman the API bug was introduced.</p></li>
<li><p><strong>fixed_version</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em>, </em><em>optional</em>) – The version of Foreman the API bug was fixed.</p></li>
<li><p><strong>plugins</strong> (<em>list</em><em>, </em><em>optional</em>) – Which plugins are required for this patch.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper._exception2fail_json">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">_exception2fail_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Generic</span> <span class="pre">failure:</span> <span class="pre">{0}'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper._exception2fail_json" title="Permalink to this definition"></a></dt>
<dd><p>Decorator to convert Python exceptions into Ansible errors that can be reported to the user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper._flatten_entity">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">_flatten_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreman_spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper._flatten_entity" title="Permalink to this definition"></a></dt>
<dd><p>Flatten entity according to spec</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper._foreman_spec_helper">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">_foreman_spec_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper._foreman_spec_helper" title="Permalink to this definition"></a></dt>
<dd><p>Extend an entity spec by adding entries for all flat_names.
Extract Ansible compatible argument_spec on the way.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper._recursive_dict_keys">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">_recursive_dict_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper._recursive_dict_keys" title="Permalink to this definition"></a></dt>
<dd><p>Find all keys of a nested dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper._recursive_dict_without_none">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">_recursive_dict_without_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper._recursive_dict_without_none" title="Permalink to this definition"></a></dt>
<dd><p>Remove all entries with <cite>None</cite> value from a dict, recursively.
Also drops all entries with keys in <cite>exclude</cite> in the top level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper.parameter_value_to_str">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">parameter_value_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.parameter_value_to_str" title="Permalink to this definition"></a></dt>
<dd><p>Helper to convert the value of parameters to string according to their parameter_type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="foreman_helper.split_fqn">
<span class="sig-prename descclassname"><span class="pre">foreman_helper.</span></span><span class="sig-name descname"><span class="pre">split_fqn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#foreman_helper.split_fqn" title="Permalink to this definition"></a></dt>
<dd><p>Split fully qualified name (title) in name and parent title</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="developing.html" class="btn btn-neutral float-left" title="How to write modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="testing.html" class="btn btn-neutral float-right" title="Testing Foreman Ansible Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Red Hat, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>